{%- load_yaml as base_defaults %}

Debian:
  pkgs:
  - kibana
  service: kibana
  version: '1.4.4'
  port: 5601
  server_name: kibana
  server_host: "0.0.0.0"
  elasticsearch_hosts: "http://localhost:9200"

RedHat:
  pkgs:
  - kibana
  service: kibana
  version: '1.4.4'
  port: 5601
  server_name: kibana
  server_host: "0.0.0.0"
  elasticsearch_hosts: "http://localhost:9200"

default:
  version: 5

{%- endload %}

{%- set kibana = salt['grains.filter_by'](base_defaults, merge=salt['pillar.get']('kibana:server'), base='default') %}