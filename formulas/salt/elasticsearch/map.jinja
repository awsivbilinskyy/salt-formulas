{%- load_yaml as base_defaults %}
Debian:
  pkgs:
    - default-jre-headless
    - elasticsearch
  curator_pkgs:
  - elasticsearch-curator
  - cron
  service: elasticsearch
  version: '1.4.4'
  elasticsearch_user: elasticsearch
  elasticsearch_group: elasticsearch
RedHat:
  pkgs:
    - java-1.8.0-openjdk
    - java-1.8.0-openjdk-devel
    - elasticsearch
  curator_pkgs:
  - elasticsearch-curator
  service: elasticsearch
  version: '1.4.4'
  elasticsearch_user: elasticsearch
  elasticsearch_group: elasticsearch
default:
  version: 5
  directory_list:
  - /usr/share/elasticsearch
  - /var/log/elasticsearch
  - /var/lib/elasticsearch
  - /etc/default/elasticsearch
  - /etc/elasticsearch

{%- endload %}

{%- set server = salt['grains.filter_by'](base_defaults, merge=salt['pillar.get']('elasticsearch:server'), base='default') %}


